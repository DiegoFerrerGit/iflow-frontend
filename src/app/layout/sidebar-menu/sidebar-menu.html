<aside
    class="fixed left-0 top-0 h-full bg-sidebar-bg z-[100] flex flex-col border-r border-white/5 overflow-hidden transition-all duration-300"
    [class.w-[256px]]="isExpanded" [class.w-[80px]]="!isExpanded">

    <div class="burger-menu h-20 flex items-center px-4 justify-between border-b border-white/5 shrink-0">
        <div class="flex items-center gap-3">
            <span
                class="logo-text text-xl font-black tracking-widest uppercase transition-opacity duration-300 text-transparent bg-clip-text bg-gradient-to-r from-fuchsia-400 to-violet-400 select-none"
                [class.opacity-100]="isExpanded" [class.opacity-0]="!isExpanded" [class.hidden]="!isExpanded">
                IFLOW
            </span>
        </div>

        <!-- Botón contraído (Menú Hamburguesa) - Solo visible si NO está expandido -->
        <button *ngIf="!isExpanded" (click)="toggleSidebar()"
            class="cursor-pointer hover:text-primary transition-colors flex items-center justify-center h-8 w-8 text-white rounded-md hover:bg-white/5">
            <span class="material-symbols-outlined text-2xl">menu</span>
        </button>
    </div>

    <!-- Botón expandido (Flechas Plegables) - Flotante a la derecha, en medio, solo si está expandido -->
    <button *ngIf="isExpanded" (click)="toggleSidebar()"
        class="absolute -right-4 top-1/2 -translate-y-1/2 z-50 cursor-pointer text-white bg-sidebar-bg border border-white/10 shadow-[0_4px_20px_rgba(0,0,0,0.5)] flex items-center justify-center h-10 w-8 rounded-l-md hover:text-primary hover:border-primary/50 transition-all rounded-r-xl">
        <span class="material-symbols-outlined text-[1.2rem]">keyboard_double_arrow_left</span>
    </button>

    <div class="flex-1 py-8 px-4 flex flex-col gap-2 overflow-y-auto overflow-x-hidden">
        <p class="nav-title text-[9px] font-black text-slate-600 uppercase tracking-[0.2em] px-3 mb-2 transition-opacity duration-300"
            [class.opacity-100]="isExpanded" [class.opacity-0]="!isExpanded" [class.hidden]="!isExpanded">
            NAVEGACIÓN PRINCIPAL
        </p>

        <nav class="flex flex-col gap-1">
            <!-- Item: Home -->
            <a routerLink="/home" routerLinkActive="bg-primary/20 text-primary border-primary/20"
                [routerLinkActiveOptions]="{exact: false}"
                class="flex items-center gap-4 px-3 py-3 rounded-xl transition-all border border-transparent text-slate-400 hover:bg-white/5 hover:text-white">
                <span class="material-symbols-outlined text-2xl">home</span>
                <span class="nav-label text-sm font-bold transition-opacity duration-300"
                    [class.opacity-100]="isExpanded" [class.opacity-0]="!isExpanded" [class.hidden]="!isExpanded">
                    Inicio
                </span>
            </a>

            <!-- Item: ODIN -->
            <a routerLink="/odin" routerLinkActive="bg-primary/20 text-primary border-primary/20"
                [routerLinkActiveOptions]="{exact: false}"
                class="flex items-center gap-4 px-3 py-3 rounded-xl transition-all border border-transparent text-slate-400 hover:bg-white/5 hover:text-white">
                <span class="material-symbols-outlined text-2xl">account_balance_wallet</span>
                <span class="nav-label text-sm font-bold transition-opacity duration-300"
                    [class.opacity-100]="isExpanded" [class.opacity-0]="!isExpanded" [class.hidden]="!isExpanded">
                    ODIN
                </span>
            </a>
        </nav>
    </div>

    <div class="mt-auto p-4 flex flex-col gap-4 border-t border-white/5">
        <div class="flex items-center gap-3 px-2 py-2">
            <div
                class="w-10 h-10 min-w-[40px] bg-primary rounded-full flex items-center justify-center text-[#16121d] font-bold text-sm shadow-[0_0_15px_rgba(168,85,247,0.4)]">
                GF
            </div>
            <div class="user-label overflow-hidden transition-opacity duration-300" [class.opacity-100]="isExpanded"
                [class.opacity-0]="!isExpanded" [class.hidden]="!isExpanded">
                <p class="text-xs font-bold text-white truncate">Gabriel F.</p>
                <p class="text-[10px] text-slate-500 font-medium">Administrator</p>
            </div>
        </div>

        <a href="#"
            class="flex items-center gap-4 px-3 py-3 rounded-xl text-logout-coral hover:bg-logout-coral/10 transition-all group">
            <span class="material-symbols-outlined text-2xl">logout</span>
            <span class="nav-label text-sm font-bold transition-opacity duration-300" [class.opacity-100]="isExpanded"
                [class.opacity-0]="!isExpanded" [class.hidden]="!isExpanded">
                Cerrar Sesión
            </span>
        </a>
    </div>
</aside>